Part I: Core Architecture & Tech Stack (1-4)

1.
Project Initialization: Initialize a full-stack project using the existing stack (React 18/TypeScript/Vite/TailwindCSS for Frontend, Express.js/Node.js/TypeScript/PostgreSQL/Drizzle ORM for Backend).

2.
Monorepo Structure: Implement a monorepo structure (client/, server/, shared/) to manage the codebase efficiently, ensuring type safety across the frontend and backend via the shared/schema.ts.

3.
Real-time Communication: Configure WebSockets (using a library like ws or socket.io) for real-time updates in the discussion forum, live session tracking, and gamification leaderboards.

4.
Scalable Storage: Integrate with a cloud storage service (e.g., AWS S3 or similar) for storing large assets like mentor videos, photos, and especially the high-resolution handwritten notes.

Part II: User Roles & Authentication (5-8)

1.
Multi-Role Authentication: Extend the users table with a role enum (Student, Mentor, Admin) and implement role-based access control (RBAC) across all API endpoints.

2.
Mentor Onboarding Flow: Create a multi-step registration process for mentors, including profile creation, subject/topic selection, and document upload for verification (e.g., degree certificates).

3.
Student Profile: Design a student profile page to track progress, booked sessions, and display gamification stats (XP, achievements, rank).

4.
User Search & Filtering: Implement a robust search and filtering API for students to find mentors based on subject, topic, rating, availability, and price.

Part III: Mentor Management System (MMS) (9-12)

1.
Mentor Profile Page: Develop a public-facing mentor profile page displaying bio, subjects taught, hourly rate, calendar availability, student reviews, and a portfolio of sample content.

2.
Mentor Dashboard: Create a dedicated dashboard for mentors to manage their content, view student progress in their courses, track earnings, and manage their session calendar.

3.
Rating and Review System: Implement a 5-star rating and text review system for students to provide feedback on mentors and their sessions, with moderation capabilities for the Admin.

4.
Mentor Payout System: Design the database schema and a basic API for tracking mentor earnings, session fees, and generating monthly earning reports.

Part IV: LMS & Content Management (13-16)

1.
Content Ownership: Modify the chapter_content and questions tables to include a mentor_id foreign key, allowing mentors to own and manage their specific content modules.

2.
Content Versioning: Implement a basic content versioning system for mentor-created content, allowing mentors to revert to previous versions of notes or videos.

3.
Content Approval Workflow: Introduce a content submission and approval workflow where mentor-created content is flagged as Pending, Approved, or Rejected by the Admin before being published to students.

4.
Content Search & Indexing: Implement full-text search indexing (e.g., using PostgreSQL's full-text search or a dedicated service like ElasticSearch) across all content types (notes, questions, video transcripts).

Part V: Enhanced Content Creation (17-20)

1.
Video Upload & Processing: Implement a secure video upload API that handles large files, triggers a background job for video compression/transcoding, and generates a thumbnail.

2.
Handwritten Notes Tool: Develop a dedicated content type for "Handwritten Notes." This requires an image/PDF upload feature with an integrated viewer that supports annotation and highlighting by students.

3.
PHET Simulation Integration: Ensure the content editor allows mentors to embed PHET simulations and other interactive visualizations directly into their chapter content, similar to the existing app.

4.
Rich Text Editor for Notes: Provide a robust, feature-rich editor (e.g., TinyMCE or Quill) for mentors to create detailed notes, supporting Markdown, LaTeX for formulas, and image embedding.

Part VI: Student Booking & Sessions (21-24)

1.
Mentor Availability Management: Implement a calendar-based system for mentors to set their available time slots, handling time zone conversions for both mentor and student.

2.
Session Booking & Payment: Create a booking API that allows students to select a time slot, view the mentor's hourly rate, and integrate with a payment gateway (e.g., Stripe) to process the session fee.

3.
Session Management: Design a sessions table to track session status (Scheduled, Completed, Cancelled), link to the mentor and student, and store a link to the session recording (if applicable).

4.
Automated Notifications: Implement email and in-app notification services for booking confirmations, session reminders (24 hours and 1 hour prior), and cancellation alerts.

Part VII: Gamification & Analytics (25-28)

1.
Gamification Integration: Ensure all new LMS activities (e.g., completing a mentor's custom course, attending a session) are integrated into the existing gamification system (XP, achievements, streaks).

2.
Mentor-Specific Leaderboards: Introduce new leaderboards that rank students based on their performance within a specific mentor's content or courses.

3.
Advanced Performance Analytics: Enhance the user_performance table to track student performance specifically on mentor-created questions and content, providing granular feedback to both the student and the mentor.

4.
Study Session Tracking: Extend the user_chapter_sessions to track time spent on mentor-created content, allowing mentors to see engagement metrics for their materials.

Part VIII: Discussion Forum & Community (29-32)

1.
Forum Architecture: Design a dedicated forum module with tables for threads, posts, and categories, supporting nested replies and upvoting/downvoting.

2.
Topic-Specific Forums: Integrate the forum with the LMS by allowing threads to be created and linked directly to specific content_topics or chapter_content pages.

3.
Mentor/Admin Badges: Implement visual badges or labels (e.g., "Verified Mentor," "Admin") next to user names in the forum to establish credibility and authority.

4.
Real-time Chat: Implement a basic real-time chat feature (using WebSockets) for students and mentors during a booked session, with the option to save the chat transcript.

Part IX: Admin Dashboard & Moderation (33-36)

1.
User Management Panel: Create a comprehensive Admin panel to view, edit, suspend, or delete any Student or Mentor account, including the ability to manually verify mentor documents.

2.
Content Moderation Tools: Develop a dashboard for Admins to review and manage the content approval workflow (Part IV, point 15), with tools to preview content and provide rejection feedback to the mentor.

3.
Financial Overview: Implement a financial dashboard for the Admin to track total revenue from session bookings, mentor payouts, and platform commission fees.

4.
System Health Monitoring: Integrate basic logging and monitoring tools (e.g., PM2, health check endpoints) to track server performance, error rates, and database query times.

Part X: Deployment, Performance & Future-Proofing (37-40)

1.
Production Build Script: Finalize the production build script (npm run build and npm start) to ensure the application is containerized (Docker) and optimized for deployment.

2.
Security Enhancements: Implement rate limiting on all public and authentication endpoints, and ensure all sensitive data (passwords, payment tokens) are handled securely (bcrypt, HTTPS enforcement).

3.
API Documentation: Generate comprehensive API documentation (e.g., using Swagger/OpenAPI) for all backend endpoints, including the new MMS and Booking APIs.

4.
Future-Proofing: Design the database and API to easily accommodate future enhancements, such as group sessions, a mobile app (React Native), and AI-powered content generation tools.

